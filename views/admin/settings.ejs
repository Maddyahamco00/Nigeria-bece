<!-- views/admin/settings.ejs -->
<div class="dashboard-container">
  <%- include('../partials/sidebar') %>

  <div id="mainContent" class="main-content">
    <div class="welcome-header mb-4">
      <h2 class="dashboard-title">
        <i class="fas fa-cog me-3"></i>
        System Settings
      </h2>
      <p class="dashboard-subtitle">Configure system preferences and settings</p>
    </div>

    <div class="row">
      <!-- General Settings -->
      <div class="col-lg-8">
        <div class="card shadow-sm border-0 rounded-4 mb-4">
          <div class="card-header bg-transparent border-0">
            <h5 class="fw-bold mb-0">
              <i class="fas fa-sliders-h me-2"></i>
              General Settings
            </h5>
          </div>
          <div class="card-body">
            <form action="/admin/settings" method="POST">
              <div class="row">
                <div class="col-md-6 mb-3">
                  <label class="form-label fw-bold">Site Title</label>
                  <input type="text" class="form-control" name="siteTitle" value="Nigeria BECE Portal" placeholder="Enter site title">
                </div>
                <div class="col-md-6 mb-3">
                  <label class="form-label fw-bold">Admin Email</label>
                  <input type="email" class="form-control" name="adminEmail" value="admin@bece.gov.ng" placeholder="Enter admin email">
                </div>
              </div>
              
              <div class="row">
                <div class="col-md-6 mb-3">
                  <label class="form-label fw-bold">Session Timeout (minutes)</label>
                  <input type="number" class="form-control" name="sessionTimeout" value="60" placeholder="60">
                </div>
                <div class="col-md-6 mb-3">
                  <label class="form-label fw-bold">Registration Fee (â‚¦)</label>
                  <input type="number" class="form-control" name="registrationFee" value="2500" placeholder="2500">
                </div>
              </div>
              
              <div class="mb-3">
                <label class="form-label fw-bold">System Maintenance Mode</label>
                <div class="form-check form-switch">
                  <input class="form-check-input" type="checkbox" id="maintenanceMode" name="maintenanceMode">
                  <label class="form-check-label" for="maintenanceMode">
                    Enable maintenance mode
                  </label>
                </div>
              </div>
              
              <button type="submit" class="btn btn-primary">
                <i class="fas fa-save me-2"></i>
                Save Settings
              </button>
            </form>
          </div>
        </div>
      </div>

      <!-- System Info -->
      <div class="col-lg-4">
        <div class="card shadow-sm border-0 rounded-4 mb-4">
          <div class="card-header bg-transparent border-0">
            <h5 class="fw-bold mb-0">
              <i class="fas fa-info-circle me-2"></i>
              System Information
            </h5>
          </div>
          <div class="card-body">
            <div class="mb-3">
              <small class="text-muted">Version</small>
              <div class="fw-bold">v1.0.0</div>
            </div>
            <div class="mb-3">
              <small class="text-muted">Environment</small>
              <div class="fw-bold">Development</div>
            </div>
            <div class="mb-3">
              <small class="text-muted">Database</small>
              <div class="fw-bold">MySQL</div>
            </div>
            <div class="mb-3">
              <small class="text-muted">Cache</small>
              <div class="fw-bold">Redis (Mock)</div>
            </div>
          </div>
        </div>

        <!-- Quick Actions -->
        <div class="card shadow-sm border-0 rounded-4">
          <div class="card-header bg-transparent border-0">
            <h5 class="fw-bold mb-0">
              <i class="fas fa-bolt me-2"></i>
              Quick Actions
            </h5>
          </div>
          <div class="card-body">
            <div class="d-grid gap-2">
              <% if (user && user.role === 'super_admin') { %>
              <a href="/admin/users/new" class="btn btn-success btn-sm">
                <i class="fas fa-user-plus me-2"></i>
                Add Sub-Admin
              </a>
              <% } %>
              <button class="btn btn-outline-primary btn-sm" onclick="clearCache()">
                <i class="fas fa-trash me-2"></i>
                Clear Cache
              </button>
              <button class="btn btn-outline-warning btn-sm" onclick="exportData()">
                <i class="fas fa-download me-2"></i>
                Export Data
              </button>
              <button class="btn btn-outline-info btn-sm" onclick="viewLogs()">
                <i class="fas fa-file-alt me-2"></i>
                View Logs
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
function clearCache() {
  if (confirm('Are you sure you want to clear the cache?')) {
    // Implement cache clearing
    alert('Cache cleared successfully!');
  }
}

function exportData() {
  // Redirect to export functionality
  window.location.href = '/admin/export/all';
}

function viewLogs() {
  // Open logs in new window or modal
  alert('Logs functionality coming soon!');
}
</script>